<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Project Detail - Zeck</title>
  <link rel="stylesheet" href="/assets/css/style.css" />
  <link rel="stylesheet" href="/projects/project.css" />
</head>
<body>
  <nav class="navbar">
    <div class="logo">Zec<span>K</span></div>
    <ul class="nav-links desktop-nav">
      <li><a href="/">Home</a></li>
      <li><a href="/about">About</a></li>
      <li><a href="/projects" class="active">Projects</a></li>
      <li><a href="/contact">Contact</a></li>
    </ul>
  </nav>

<main class="container" id="project-container">
  <!-- Password prompt -->
  <div id="password-box" style="display: none;">
    <h2>This project is protected 🔐</h2>
    <p>Please enter the password to continue:</p>
    <input type="password" id="project-password" placeholder="Enter password" />
    <button onclick="validatePassword()">Unlock</button>
    <p id="error-msg" style="color:red;"></p>
  </div>
</main>


<a href="/projects" class="back-btn">← Back to Projects</a>

  <footer>
    <div class="footer-graphic"></div>
    <p>© 2025 Zeck. Crafted with precision and passion.</p>
  </footer>



  <script>
  const pathname = window.location.pathname;
  const slug = pathname.endsWith('/')
    ? pathname.split('/').slice(-2, -1)[0]
    : pathname.split('/').pop().replace('.html', '');

  let selectedProject;

  fetch("/assets/data/projects-data.json")
    .then(res => res.json())
    .then(projects => {
      const project = projects.find(p => p.slug === slug);
      selectedProject = project;

      if (!project) {
        document.getElementById("project-container").innerHTML = "<p>Project not found.</p>";
        return;
      }

      if (project.protected) {
        document.getElementById("password-box").style.display = "block";
      } else {
        loadProject(project);
      }
    });

  function validatePassword() {
    const input = document.getElementById("project-password").value;
    const correctPassword = "zeck2025"; // 🔐 Your password here

    if (input === correctPassword) {
      document.getElementById("password-box").style.display = "none";
      loadProject(selectedProject);
    } else {
      document.getElementById("error-msg").textContent = "❌ Incorrect password. Try again.";
    }
  }

function loadProject(project) {
  document.getElementById("project-container").innerHTML = `
    <div class="project-detail">
      <h1>${project.title}</h1>
      <img src="${project.image}" alt="${project.title}" />
      
      <h2>Description</h2>
      <p>${project.description}</p>

      <h2>Tags</h2>
      <ul>
        ${project.tags?.map(tag => `<li>${tag}</li>`).join("")}
      </ul>

      ${project.link ? `
        <h2>Source Code</h2>
        <a href="${project.link}" target="_blank">🔗 View on GitHub</a>
      ` : ""}

      ${project.demo ? `
        <h2>Live Demo</h2>
        <a href="${project.demo}" target="_blank">🚀 Open Demo</a>
      ` : ""}

      <div class="last-updated">📅 Last Updated: ${project.date}</div>
    </div>
  `;
}
</script>


</body>
</html>
